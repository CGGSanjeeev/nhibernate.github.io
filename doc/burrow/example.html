---
layout: doc
title: Example
---
                <div id="CommonNavigationShadow">
                    
    
    <div class="CommonBreadCrumbArea"><div class="Common">
        <a href="../index.html">Documentation</a>
        »
        <a href="index.html">Burrow</a>
        »
        <a href="example.html">Example</a>
    </div></div>


                </div>
		    
                        
            <div class="Common">
                <div id="CommonTitle">
    <h1>Burrow</h1>
                <div class="CommonByline">
<span>This page is converted from the old nhforge.org Wiki.</span> <span class="revision">First published by: <span class="author">kailuowang on 09-07-2008</span></span>, <span class="revision">Last revision by: <span class="author">Marc Climent on 09-11-2008</span></span>
</div>
</div>
                <div style="clear: both;"></div>
			    <div id="CommonSidebarLeft">
			        
    
	<div class="CommonSidebar">
	    
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Table of Contents</h4>
	                    <div class="CommonContentBoxContent">
	            <div><ul class="CommonHierarchicalList">
<li><a href="index.html">Home</a></li>
<li><a href="introduction.html">Introduction</a></li>
<li><a href="get-started.html"> Get Started</a></li>
<li><a href="conversation-explained.html">Conversation Explained</a></li>
<li><a href="stateful-fields.html">Stateful Fields</a></li>
<li><a href="faq.html">FAQ</a></li>
<li><a href="example.html" class="Selected">Example</a></li>
</ul></div>
				        </div>
				        
			        </div>
	            
	    
	        
	                
	            
	    
	        
	                
	            
	    
	        
	                
	            
	    
	    
	    
    </div>
    

			    </div>
                
			    <div id="CommonContent"><div id="CommonContentInner">
    



<div class="CommonContentBox">
    <div class="CommonContentBoxContent">
        <div style="float: right">
            
        </div>
        
        

        
            <div class="CommonGroupedContentArea">                

                

                <h2 class="">
                        <span><a href="example.html">Example</a></span>
                        
                    </h2>
                                
                
                <div>
<p>This example will show how NHibernate.Burrow and NHibernate.Burrow.AppBlock simplifies ASP.NET/NHibernate application development on a day-to-day basis. The full code is available in <a href="http://nhcontrib.svn.sourceforge.net/viewvc/nhcontrib/trunk/src/NHibernate.Burrow/examples/BasicThreeTier/">NHContrib/src/NHibernate.Burrow/examples/BasicThreeTier</a>.<br>This simple example is about managing an entity called "Customer".</p>
<div style="border:1px solid gray;margin:20px 0px 10px;padding:4px;overflow:auto;font-size:8pt;width:97.5%;cursor:text;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;max-height:200px;">
<div style="border-style:none;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   1:</span> <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">class</span> Customer</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">   2:</span> {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   3:</span>     <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">string</span> address;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">   4:</span>     <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">string</span> companyName;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   5:</span>     <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">string</span> contactName;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">   6:</span>     <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">int</span> id;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   7:</span>     <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">bool</span> isActivated;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">   8:</span>     <span style="color:#0000ff;">private</span> <span style="color:#0000ff;">decimal</span> salesPotential;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   9:</span>  </pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  10:</span>     <span style="color:#0000ff;">private</span> Customer(){}</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  11:</span>  </pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  12:</span>     <span style="color:#0000ff;">public</span> Customer(<span style="color:#0000ff;">string</span> contactName)</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  13:</span>     {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  14:</span>         ContactName = contactName;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  15:</span>     }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  16:</span>  </pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  17:</span>     <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">int</span> Id</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  18:</span>     {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  19:</span>         get { <span style="color:#0000ff;">return</span> id; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  20:</span>         <span style="color:#0000ff;">private</span> set { id = <span style="color:#0000ff;">value</span>; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  21:</span>     }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  22:</span>  </pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  23:</span>     <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">string</span> Address</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  24:</span>     {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  25:</span>         get { <span style="color:#0000ff;">return</span> address; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  26:</span>         set { address = <span style="color:#0000ff;">value</span>; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  27:</span>     }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  28:</span>  </pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  29:</span>     <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">decimal</span> SalesPotential</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  30:</span>     {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  31:</span>         get { <span style="color:#0000ff;">return</span> salesPotential; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  32:</span>         set { salesPotential = <span style="color:#0000ff;">value</span>; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  33:</span>     }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  34:</span>  </pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  35:</span>     <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">bool</span> IsActivated</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  36:</span>     {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  37:</span>         get { <span style="color:#0000ff;">return</span> isActivated; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  38:</span>         set { isActivated = <span style="color:#0000ff;">value</span>; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  39:</span>     }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  40:</span>  </pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  41:</span>     <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">string</span> CompanyName</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  42:</span>     {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  43:</span>         get { <span style="color:#0000ff;">return</span> companyName; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  44:</span>         set { companyName = <span style="color:#0000ff;">value</span>; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  45:</span>     }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  46:</span>  </pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  47:</span>     <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">string</span> ContactName</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  48:</span>     {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  49:</span>         get { <span style="color:#0000ff;">return</span> contactName; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  50:</span>         set { contactName = <span style="color:#0000ff;">value</span>; }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  51:</span>     }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  52:</span> }</pre>
</div>
</div>
<p><br>The mapping file as follows</p>
<div style="border:1px solid gray;margin:20px 0px 10px;padding:4px;overflow:auto;font-size:8pt;width:97.5%;cursor:text;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;max-height:200px;">
<div style="border-style:none;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">hibernate-mapping</span> <span style="color:#ff0000;">xmlns</span><span style="color:#0000ff;">="urn:nhibernate-mapping-2.2"</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">  <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">class</span> <span style="color:#ff0000;">name</span><span style="color:#0000ff;">="BasicThreeTier.Core.Domain.Customer, BasicThreeTier.Core"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">         <span style="color:#ff0000;">table</span><span style="color:#0000ff;">="Customers"</span> <span style="color:#ff0000;">lazy</span><span style="color:#0000ff;">="false"</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">    <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">id</span> <span style="color:#ff0000;">name</span><span style="color:#0000ff;">="Id"</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">      <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">generator</span> <span style="color:#ff0000;">class</span><span style="color:#0000ff;">="identity"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">    <span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">id</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">    <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span> <span style="color:#ff0000;">name</span><span style="color:#0000ff;">="CompanyName"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">    <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span> <span style="color:#ff0000;">name</span><span style="color:#0000ff;">="ContactName"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">    <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span> <span style="color:#ff0000;">name</span><span style="color:#0000ff;">="Address"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">    <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span> <span style="color:#ff0000;">name</span><span style="color:#0000ff;">="IsActivated"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">    <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">property</span> <span style="color:#ff0000;">name</span><span style="color:#0000ff;">="SalesPotential"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">  <span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">class</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">hibernate-mapping</span><span style="color:#0000ff;">&gt;</span></pre>
</div>
</div>
<p>The first step will be creating a DAO for it. Here we create one by inheriting the DAO base from NHibernate.AppBlock</p>
<div style="border:1px solid gray;margin:20px 0px 10px;padding:4px;overflow:auto;font-size:8pt;width:97.5%;cursor:text;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;max-height:200px;">
<div style="border-style:none;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">public</span> <span style="color:#0000ff;">class</span> CustomerDAO : NHibernate.Burrow.AppBlock.DAOBases.GenericDAO&lt;Customer&gt;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">{}</pre>
</div>
</div>
<p>The DAO base class provides a lot of functions including CRUD and much more. But this inheritance is by no means mandatory. You can always use your own DAO.<br>Now the domain layer is ready. Let's create a page that lists all the all the customer entities in a grid view that is sortable and paged (both at DB side).<br><b>ListCustomer.aspx</b></p>
<div style="border:1px solid gray;margin:20px 0px 10px;padding:4px;overflow:auto;font-size:8pt;width:97.5%;cursor:text;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;max-height:200px;">
<div style="border-style:none;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:GridView</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="grdCustomers"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#ff0000;">AutoGenerateColumns</span><span style="color:#0000ff;">="false"</span> <span style="color:#ff0000;">AllowPaging</span><span style="color:#0000ff;">="True"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">                <span style="color:#ff0000;">AllowSorting</span><span style="color:#0000ff;">="True"</span> <span style="color:#ff0000;">PageSize</span><span style="color:#0000ff;">="5"</span> <span style="color:#ff0000;">DataSourceID</span><span style="color:#0000ff;">="odsAll"</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">    <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">Columns</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:TemplateField</span> <span style="color:#ff0000;">HeaderText</span><span style="color:#0000ff;">="Customer ID"</span> <span style="color:#ff0000;">SortExpression</span><span style="color:#0000ff;">="Id"</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">            <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">ItemTemplate</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">                <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:LinkButton</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="lbtSelect"</span> <span style="color:#ff0000;">OnCommand</span><span style="color:#0000ff;">="lbt_SelectCommand"</span> </pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">                    <span style="color:#ff0000;">CommandArgument</span><span style="color:#0000ff;">='&lt;%# Eval("Id") %&gt;'</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span><span style="color:#0000ff;">&gt;</span><pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">                    <span style="background-color:#ffff00;">&lt;%</span>1:</span> # Eval(<span style="color:#006080;">"Id"</span>) <span style="background-color:#ffff00;">%&gt;</span></pre>
<span style="color:#0000ff;">                &lt;/</span><span style="color:#800000;">asp:LinkButton</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">            <span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">ItemTemplate</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">        <span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">asp:TemplateField</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:BoundField</span> <span style="color:#ff0000;">DataField</span><span style="color:#0000ff;">="CompanyName"</span> <span style="color:#ff0000;">HeaderText</span><span style="color:#0000ff;">="Company Name"</span> <span style="color:#ff0000;">SortExpression</span><span style="color:#0000ff;">="CompanyName"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:BoundField</span> <span style="color:#ff0000;">DataField</span><span style="color:#0000ff;">="ContactName"</span> <span style="color:#ff0000;">HeaderText</span><span style="color:#0000ff;">="Contact Name"</span> <span style="color:#ff0000;">SortExpression</span><span style="color:#0000ff;">="ContactName"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:BoundField</span> <span style="color:#ff0000;">DataField</span><span style="color:#0000ff;">="Address"</span> <span style="color:#ff0000;">HeaderText</span><span style="color:#0000ff;">="Address"</span> <span style="color:#ff0000;">SortExpression</span><span style="color:#0000ff;">="Address"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:BoundField</span> <span style="color:#ff0000;">DataField</span><span style="color:#0000ff;">="SalesPotential"</span> <span style="color:#ff0000;">HeaderText</span><span style="color:#0000ff;">="Sales Potential"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">             <span style="color:#ff0000;">HtmlEncodeFormatString</span><span style="color:#0000ff;">="true"</span> <span style="color:#ff0000;">DataFormatString</span><span style="color:#0000ff;">="{0:C}"</span> <span style="color:#ff0000;">SortExpression</span><span style="color:#0000ff;">="SalesPotential"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:BoundField</span> <span style="color:#ff0000;">DataField</span><span style="color:#0000ff;">="IsActivated"</span> <span style="color:#ff0000;">HeaderText</span><span style="color:#0000ff;">="Activated"</span> <span style="color:#ff0000;">SortExpression</span><span style="color:#0000ff;">="IsActivated"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">    <span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">Columns</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">asp:GridView</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:ObjectDataSource</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="odsAll"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#ff0000;">TypeName</span><span style="color:#0000ff;">="BasicThreeTier.Core.Dao.CustomerDAO"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">    <span style="color:#ff0000;">EnablePaging</span><span style="color:#0000ff;">="True"</span> <span style="color:#ff0000;">MaximumRowsParameterName</span><span style="color:#0000ff;">="pageSize"</span> <span style="color:#ff0000;">StartRowIndexParameterName</span><span style="color:#0000ff;">="startRow"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">    <span style="color:#ff0000;">SortParameterName</span><span style="color:#0000ff;">="sortExpression"</span> <span style="color:#ff0000;">SelectMethod</span><span style="color:#0000ff;">="FindAll"</span> <span style="color:#ff0000;">SelectCountMethod</span><span style="color:#0000ff;">="CountAll"</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">asp:ObjectDataSource</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">uc1:EditCustomer</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="EditCustomer1"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#ff0000;">Visible</span><span style="color:#0000ff;">="false"</span> <span style="color:#ff0000;">OnUpdated</span><span style="color:#0000ff;">="EditCustomer_Updated"</span> <span style="color:#0000ff;">/&gt;</span></pre>
</div>
</div>
<p>The EditCustomer1 is a user control that we created to edit one customer, we'll talk about it later.<br><b>ListCustomer.aspx.cs</b></p>
<div style="border:1px solid gray;margin:20px 0px 10px;padding:4px;overflow:auto;font-size:8pt;width:97.5%;cursor:text;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;max-height:200px;">
<div style="border-style:none;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">public</span> <span style="color:#0000ff;">partial</span> <span style="color:#0000ff;">class</span> ListCustomers : System.Web.UI.Page</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">{</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">    <span style="color:#0000ff;">protected</span> <span style="color:#0000ff;">void</span> lbt_SelectCommand(<span style="color:#0000ff;">object</span> sender, CommandEventArgs e) {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        EditCustomer1.Bind(<span style="color:#0000ff;">new</span> CustomerDAO().Get(<span style="color:#0000ff;">int</span>.Parse(e.CommandArgument.ToString())));   <span style="color:#0000ff;">protected</span> <span style="color:#0000ff;">void</span> EditCustomer_Updated(<span style="color:#0000ff;">object</span> sender, EventArgs e) {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">        grdCustomers.DataBind();</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">    }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">}</pre>
</div>
</div>
<p>The code behind may look like an excerpt, but it's not. It's just simple as that, we have a paged and sortable (both at Database side) gridview that lists all customers. The inherited DAO together with the ObjectDataSource take care of all the tedious work of the DB side sorting and paging. In the code behind, we only need two simple methods for binding the selected customer to the EditCustomer control and refresh the gridview when customer is modified in that control.<br>Now let's look at the EditCustomer user control.<br><b>EditCustomer.ascx</b></p>
<div style="border:1px solid gray;margin:20px 0px 10px;padding:4px;overflow:auto;font-size:8pt;width:97.5%;cursor:text;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;max-height:200px;">
<div style="border-style:none;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">h2</span><span style="color:#0000ff;">&gt;</span>Edit Customer<span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">h2</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">Customer ID:<span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:Label</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="lblCustomerID"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;&lt;</span><span style="color:#800000;">br</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">Company Name:<span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:TextBox</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="txtCompanyName"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;&lt;</span><span style="color:#800000;">br</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">Contact Name:<span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:TextBox</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="txtContactName"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;&lt;</span><span style="color:#800000;">br</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">Address:<span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:TextBox</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="txtAddress"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;&lt;</span><span style="color:#800000;">br</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">Sales Potential:<span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:TextBox</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="txtSalesPotential"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;&lt;</span><span style="color:#800000;">br</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">Activated:<span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:CheckBox</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="cbActivated"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;&lt;</span><span style="color:#800000;">br</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">ww:wwDataBinder</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="DataBinder"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#ff0000;">DefaultBindingSource</span><span style="color:#0000ff;">="customer"</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">    <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">DataBindingItems</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">ww:wwDataBindingItem</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="dbiId"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#ff0000;">BindingMode</span><span style="color:#0000ff;">="oneway"</span> <span style="color:#ff0000;">ControlId</span><span style="color:#0000ff;">="lblCustomerID"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">            <span style="color:#ff0000;">BindingSourceMember</span><span style="color:#0000ff;">="Id"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">ww:wwDataBindingItem</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="dbiCompanyName"</span> <span style="color:#ff0000;">BindingSourceMember</span><span style="color:#0000ff;">="CompanyName"</span> <span style="color:#ff0000;">ControlId</span><span style="color:#0000ff;">="txtCompanyName"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">            <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">ww:wwDataBindingItem</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="dbiContactName"</span> <span style="color:#ff0000;">BindingSourceMember</span><span style="color:#0000ff;">="ContactName"</span> <span style="color:#ff0000;">ControlId</span><span style="color:#0000ff;">="txtContactName"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">            <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">ww:wwDataBindingItem</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="dbiAddress"</span> <span style="color:#ff0000;">BindingSourceMember</span><span style="color:#0000ff;">="Address"</span> <span style="color:#ff0000;">ControlId</span><span style="color:#0000ff;">="txtAddress"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">            <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">ww:wwDataBindingItem</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="dbiSP"</span> <span style="color:#ff0000;">BindingSourceMember</span><span style="color:#0000ff;">="SalesPotential"</span> <span style="color:#ff0000;">ControlId</span><span style="color:#0000ff;">="txtSalesPotential"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">            <span style="color:#ff0000;">DisplayFormat</span><span style="color:#0000ff;">="{0:C}"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">        <span style="color:#0000ff;">&lt;</span><span style="color:#800000;">ww:wwDataBindingItem</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="dbiIA"</span> <span style="color:#ff0000;">BindingSourceMember</span><span style="color:#0000ff;">="IsActivated"</span> <span style="color:#ff0000;">ControlId</span><span style="color:#0000ff;">="cbActivated"</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;">            <span style="color:#ff0000;">BindingProperty</span><span style="color:#0000ff;">="Checked"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">    <span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">DataBindingItems</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">&lt;/</span><span style="color:#800000;">ww:wwDataBinder</span><span style="color:#0000ff;">&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:Button</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="btnUpdate"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#ff0000;">OnClick</span><span style="color:#0000ff;">="btnUpdate_OnClick"</span> <span style="color:#ff0000;">Text</span><span style="color:#0000ff;">="Update"</span> <span style="color:#0000ff;">/&gt;</span></pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#0000ff;">&lt;</span><span style="color:#800000;">asp:Button</span> <span style="color:#ff0000;">ID</span><span style="color:#0000ff;">="btnCancel"</span> <span style="color:#ff0000;">runat</span><span style="color:#0000ff;">="server"</span> <span style="color:#ff0000;">OnClick</span><span style="color:#0000ff;">="btnCancel_OnClick"</span> <span style="color:#ff0000;">Text</span><span style="color:#0000ff;">="Cancel"</span> <span style="color:#0000ff;">/&gt;</span></pre>
</div>
</div>
<p>The wwDataBinder here is an optional 3rd party control that realizes Two-way databinding between UI controls and properties of the code behind class. This wonderful control is created by Rick Strahl. It eliminates the code that transfer values between form control values and entity properties. Detailed information about it can be found <a href="http://msdn.microsoft.com/en-us/magazine/cc163505.aspx">here</a>. Again, this control is not mandatory by NHibernate.Burrow.<br>Now let's look at the code behind.<br><b>EditCustomer.aspx.cs</b></p>
<div style="border:1px solid gray;margin:20px 0px 10px;padding:4px;overflow:auto;font-size:8pt;width:97.5%;cursor:text;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;max-height:200px;">
<div style="border-style:none;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;">
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   1:</span> <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">partial</span> <span style="color:#0000ff;">class</span> EditCustomer : UserControl {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">   2:</span>     <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">event</span> EventHandler Updated;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   3:</span>     [EntityField] <span style="color:#0000ff;">protected</span> Customer customer;   <span style="color:#0000ff;">public</span> <span style="color:#0000ff;">void</span> Bind(Customer c) {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">   4:</span>         customer = c;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   5:</span>         DataBinder.DataBind(<span style="color:#0000ff;">this</span>);</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">   6:</span>         Visible = <span style="color:#0000ff;">true</span>;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   7:</span>     }   <span style="color:#0000ff;">protected</span> <span style="color:#0000ff;">void</span> btnUpdate_OnClick(<span style="color:#0000ff;">object</span> sender, EventArgs e) {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">   8:</span>         DataBinder.Unbind(<span style="color:#0000ff;">this</span>);</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">   9:</span>         <span style="color:#0000ff;">if</span> (Updated != <span style="color:#0000ff;">null</span>)Updated(<span style="color:#0000ff;">this</span>, <span style="color:#0000ff;">new</span> EventArgs());</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  10:</span>     }   <span style="color:#0000ff;">protected</span> <span style="color:#0000ff;">void</span> btnCancel_OnClick(<span style="color:#0000ff;">object</span> sender, EventArgs e) {</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  11:</span>         customer = <span style="color:#0000ff;">null</span>;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  12:</span>         Visible = <span style="color:#0000ff;">false</span>;</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:white;"><span style="color:#606060;">  13:</span>     }</pre>
<pre style="border-style:none;margin:0em;padding:0px;overflow:visible;font-size:8pt;width:100%;color:black;line-height:12pt;font-family:consolas,'Courier New',courier,monospace;background-color:#f4f4f4;"><span style="color:#606060;">  14:</span> }</pre>
</div>
</div>
<p>Again, this is the complete code that is necessary to manage all the properties for the customer entity.<br>Now with the code listed here we created a three tier application that can list and manage all the customers in DB. As you can see here, the code is very straightforward and clean. No DB related management code anywhere, not even NHibernate is mentioned.<br><b>Conclusion</b><br>This example demonstrated that other than the advanced features, such as <a href="conversation-explained.html">conversation</a>, it provides, NHibernate.Burrow also greatly frees the developers from DB/NHibernate related concerns and thus enable them to focus mostly on project vised logic in their day-to-day development.</p>
</div>
            </div>
        
        
    </div>
</div>





</div></div>
			    <div style="clear: both;"></div>
			    
			    
            </div>

