

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head><meta http-equiv="X-UA-Compatible" content="IE=7" /><meta name="robots" content="index,follow" />
<meta name="description" content="The official NHibernate community site. Download NHibernate. Read blogs. Contribute to the NHibernate Wiki. Find reference documentation." />
<meta name="keywords" content="NHibernate, NHibernate Contrib, community, Burrow, Downloads" />
<meta name="GENERATOR" content="CommunityServer 2008.5 SP1 (Build: 31106.3070)" />
<link rel="shortcut icon" type="image/ico" href="../../favicon.ico" />
<link rel="alternate" type="application/rss+xml" title="Architecture (RSS 2.0)" href="architecture/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="NHibernate 2.0  (RSS 2.0)" href="rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Groxx&#39;s Announcements (RSS 2.0)" href="../../members/Groxx/announcements/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Groxx&#39;s Comments (RSS 2.0)" href="../../members/Groxx/comments/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Groxx&#39;s Activities (RSS 2.0)" href="../../members/Groxx/activities/rss.aspx"  />
<link rel="alternate" type="application/rss+xml" title="Groxx&#39;s Friends Activity (RSS 2.0)" href="../../members/Groxx/activities/friendrss.aspx"  />

        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <style type="text/css"> body { font-size: 84%; } </style>
        <link rel="stylesheet" href="../../themes/hawaii/style/Common.css" type="text/css" media="screen,print" />
        <link rel="stylesheet" href="../../themes/hawaii/style/common_print.css" type="text/css" media="print" />
        
    
    <link rel="stylesheet" href="../../Themes/hawaii/style/wiki.css" type="text/css" media="screen,print" />
	

        <link rel="stylesheet" href="../../themes/hawaii/style/DynamicStyle.aspx.css" type="text/css" media="screen" />
        <!--[if lte IE 6]>
            <link rel="stylesheet" href="/themes/hawaii/style/ie6.css" type="text/css" media="screen" />
        <![endif]-->
    <meta name="google-site-verification" content="u9qihpHbzSFdf2ypCUvCQrj9IJkANGzorC8zMk0859M" />
<title>
	Architecture - NHibernate Forge
</title></head>
	<body>
		<form name="aspnetForm" method="post" action="architecture.aspx.html" id="aspnetForm">
<div>
<input type="hidden" name="__VIEWSTATE" id="__VIEWSTATE" value="/wEPDwULLTE0MjI1NzA4NTBkGAEFHl9fQ29udHJvbHNSZXF1aXJlUG9zdEJhY2tLZXlfXxYBBTBjdGwwMCRjdGwwMCRzciRzciRjdGwwMCRjdGwwMCRUaXRsZUJhclNlYXJjaFRleHRnkoeGkMFUl/GCfp0jWEl0wBWF5g==" />
</div>


<script src="../../WebResource.axd%3Fd=0gbcOAOlbWsHyCtP1tLKZQbpxrEkhg31E8L04T1x-hMLrsMonvmUNQvxBohSywWHueFgWT841lW9e5k7Gp2DbPsOLeN3Sv3SB7czfVSlQGxYOHnJcLlKfh3v9vlcjJ9ggvps0fjahw73J3SVYQmGvS0rXng1&amp;t=634395149500000000" type="text/javascript"></script>
<script src="../../WebResource.axd%3Fd=qXX_qxw7Y60qjc1NsxHnuIWUCy9JxjEUKLrY5KEQyuYhKzv3UmRPH805gTXU5edfSsLl7PHTIDuZbzGOp5UYEWeQ6anyqFa-m5TiNnZiD5MOrgiKWAZBgPyJ267gdCbk0_TpK2BaAhLvEgyM28dt9SYQ2UM1&amp;t=634395149500000000" type="text/javascript"></script>
<script src="../../WebResource.axd%3Fd=c5kkseX-7hUDg441H_iVoy5ws7YKvwS4KliHEKHuRl5UdJkUU5Jbdf2sxzCcbfyn6sqe17DzqhSTfAyV8nyJKMHhScl2IzjSz37RVYryN9Omis3K0NCj_OJ4fHZH3n9_IPBlNLVyYL45kjJL_zhydrkKTi3FfxaImDeS_1JZIO7o9iFs0&amp;t=634395149500000000" type="text/javascript"></script>
<script src="../../WebResource.axd%3Fd=kMYUTUavSIm2PfhqImV65wSrGgvlXLz6y2I9w1Ny3wgQ9Mr8YxqHob4FEFjJCAuSefb7UiiHarHcIuJD4xiKEgAWZ6bkGuLRZKuFDCHjRSswzwvX2HIxCYe1LS8DvrUxi4omY-uxichRl_7QG7gvnymf7ji60ufX0GdWKCPuYuKcXuCoaDwpH8N3g3tlQpPEgpisGg2&amp;t=634395149480000000" type="text/javascript"></script>
<script src="../../WebResource.axd%3Fd=ooIwVX8behGAEmhMCiixHbDdkMUOVYaZRdlMT8IcoNg04bCvP2nwsB6TYoQ7d2Jv_3l4oJ1T22OjM-M-2DunSYiieujBrutwDXLnAl2vCYvC2eq5i-t1eW9X33MvMiQlvp4qyu1-rLPWkjuV_LZnUetgmSNTxQbJe-EddFxbtbp-DYr30&amp;t=634395149500000000" type="text/javascript"></script>
<script src="../../WebResource.axd%3Fd=xXlM6p6Z55_L0aHC_AFQRK0Cjmpbijxk7GNNsmfNwwA1waqkaV-hG1FcycUhTX3miKHBKKxRY86jAc_xya2ioQnh8uEZNMdbhp5EeN7LrycYZRTwA1RkyBpeEDeC_6M7Ye32k1z4nBfateiS4xaRnrrk7zAUyXGK9sqQp9FDULq-nwZx0&amp;t=634395149500000000" type="text/javascript"></script>
						

			

		    
		        <div id="CommonHeader">
		            <div class="Common">
		                <div id="CommonHeaderTitleArea">
		                    <table cellpadding="0" cellspacing="0" border="0"><tr valign="middle">
		                        <td><div style="margin-right: 10px;"><img src="../../cfs-file.ashx/__key/CommunityServer.Components.SiteFiles/logos/LogoNH.gif" alt="" style="border-width:0px;" /></div></td>
		                        <td>
		                            <div class="CommonHeaderTitle">NHibernate Forge</div>
		                            <div class="CommonHeaderTitleDescription">The official new home for the NHibernate for .NET community</div>
		                        </td>
		                    </tr></table>
		                </div>
		                <div id="CommonHeaderUserArea">
		                    <table cellpadding="0" cellspacing="0" border="0"><tr valign="top"><td>
                                <div id="CommonHeaderUserContent">
                                    <div id="CommonHeaderUserWelcome">
                                        
        <a href="../../login.aspx%3FReturnUrl=%252Fwikis%252Freference2-0en%252Farchitecture.aspx.html">Sign in </a>
         | <a href="../../user/CreateUser.aspx%3FReturnUrl=.html">Join</a>
        | <a href="http://dev.communityserver.com/r.ashx?K&amp;siteurl=wikis.wiki_Page_View">Help</a>
     


                                    </div>
                                </div>
                            </td></tr></table>
                        </div>
                    </div>
                </div>
                <div id="CommonNavigation">
                    <div class="Common"><div class="Inner">
                        <ul>
                                
                                <li><a href="../../index.html">Home</a></li>
                            
                                
                                <li><a href="../../blogs/nhibernate.html">Blog</a></li>
                            
                                <li><a class="Selected" href="../index.html">Wikis</a></li>
                                
                            
                                
                                <li><a href="../../groups/index.html">Groups</a></li>
                            
                                
                                <li><a href="../../doc/nh/en/index.html">Reference</a></li>
                            
                                
                                <li><a href="http://nhibernate.jira.com">Issue tracker</a></li>
                            
                                
                                <li><a href="https://github.com/nhibernate/nhibernate-core">Source Code</a></li>
                            </ul>
                        <div style="clear: both;"></div>
                     </div></div>
                </div>
                
                        <div id="CommonNavigation2">
                            <div class="Common"><div class="Inner">
                                <ul>
                    
                        
                        <li><a href="../general/default.aspx.html">General</a></li>
                    
                        
                        <li><a href="../howtonh/default.aspx.html">How to</a></li>
                    
                        
                        <li><a href="../patternsandpractices/default.aspx.html">Patterns&Practices</a></li>
                    
                                </ul>
                            </div></div>
                        </div>
                    
                <div id="CommonNavigationShadow">
                    
    
    <div class="CommonBreadCrumbArea"><div class="Common">
        <a href="../index.html">Wikis</a>
        &raquo;
        <a href="default.aspx.html">NHibernate 2.0 </a>
        &raquo;
        <a href="architecture.aspx.html">Architecture</a>
    </div></div>


                </div>
		    
                        
            <div class="Common">
            
                
            
                <div id="CommonSearch">
                    
    
        
                <div class="CommonSearchArea">
                    <div class="CommonSearchRoundTop"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                    <div class="CommonSearchContent"><div class="CommonSearchContentInner">
                        <input name="ctl00$ctl00$sr$sr$ctl00$ctl00$TitleBarSearchText" type="text" maxlength="64" size="15" id="ctl00_ctl00_sr_sr_ctl00_ctl00_TitleBarSearchText" onclick="if(this.defaultValue==this.value) this.value='';" onblur="if(this.value=='') this.value=this.defaultValue;" onkeydown="return KeyDownHandlerctl00_ctl00_sr_sr_ctl00_ctl00_TitleBarSearchButton(event);" /><input type="submit" name="ctl00$ctl00$sr$sr$ctl00$ctl00$TitleBarSearchButton" value="Â " id="ctl00_ctl00_sr_sr_ctl00_ctl00_TitleBarSearchButton" class="CommonSearchButton" />
                    </div></div>
                    <div class="CommonSearchRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                </div>
            
    

                </div>
                <div id="CommonTitle">
                    
    
    <h1 class="CommonTitle">Architecture</h1>


                </div>
                <div style="clear: both;"></div>
			    <div id="CommonSidebarRight">
			        
    
	<div class="CommonSidebar">
	    
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Shortcuts</h4>
	                    <div class="CommonContentBoxContent">
	            <ul class='CommonSidebarList'><li><a href="default.aspx.html">Home</a></li><li><a href="architecture/rss.aspx">RSS feed for page</a></li></ul>
				        </div>
				        
			        </div>
	            
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Attachments</h4>
	                    <div class="CommonContentBoxContent">
	            <ul class="CommonSidebarList"><li><a href="../../cfs-file.ashx/__key/CommunityServer.Components.SiteFiles/wikis.NHReference/overview.png">overview.png</a></li><li><a href="../../cfs-file.ashx/__key/CommunityServer.Components.SiteFiles/wikis.NHReference/lite.png">lite.png</a></li><li><a href="../../cfs-file.ashx/__key/CommunityServer.Components.SiteFiles/wikis.NHReference/fullcream.png">fullcream.png</a></li></ul>
				        </div>
				        
			        </div>
	            
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Wiki Page Hierarchy</h4>
	                    <div class="CommonContentBoxContent">
	            <div><ul class="CommonHierarchicalList"><li><a href="nhibernate-2-0-reference-documentation.aspx.html">NHibernate 2.0 Reference Documentation</a></li><li><a href="architecture.aspx.html#" onclick="ctl00_ctl00_rcr_rcr_ctl00_ctl02_ctl00_ctl01_ctl01._collapse(5, this); return false;"><img src="../../WebResource.axd%3Fd=I7Z2L5Ca7ffItUeObf-LA3ykZ3Mbmr-vwfNJv2PfNk2O4alHWIJbJADyKhl0k71mJCpGTePjifKqZQx_Rs64LrGhlEU25qRjlCh8LoYwo2tck8EIbBdQKg5CISopk9hz_6ZbK_GNtBJljwOq57_FBvxYCTM1&amp;t=634395149500000000" alt="-" style="border-width: 0;" /></a><a href="architecture.aspx.html" class="Selected">Architecture</a><div><ul class="CommonHierarchicalList"><li><a href="instance-states.aspx.html">Instance states</a></li><li><a href="context-sessions.aspx.html">Context Sessions</a></li></ul></div></li><li><a href="architecture.aspx.html#" onclick="ctl00_ctl00_rcr_rcr_ctl00_ctl02_ctl00_ctl01_ctl01._expand(11, this); return false;"><img src="../../WebResource.axd%3Fd=sNXLzaCqbYO_a-ZjCZB88HF4WT8YRbuRaD2xfyafsCiRqelSVt4GYH9QzNn_EvXM02V5zpjGwsymzmW30OIrbB4EUeqA1XW4oU6sME2qMEcOgSVpfz1_YK7UdKB8bVtbFiuWJt3UljrDk5OnRzQEWKDyXNGX0R6sJsultQeBjufuUDz-0&amp;t=634395149500000000" alt="+" style="border-width: 0;" /></a><a href="isessionfactory-configuration.aspx.html">ISessionFactory Configuration</a></li><li><a href="query-syntax.aspx.html">Query Syntax</a></li><li><a href="architecture.aspx.html#" onclick="ctl00_ctl00_rcr_rcr_ctl00_ctl02_ctl00_ctl01_ctl01._expand(58, this); return false;"><img src="../../WebResource.axd%3Fd=sNXLzaCqbYO_a-ZjCZB88HF4WT8YRbuRaD2xfyafsCiRqelSVt4GYH9QzNn_EvXM02V5zpjGwsymzmW30OIrbB4EUeqA1XW4oU6sME2qMEcOgSVpfz1_YK7UdKB8bVtbFiuWJt3UljrDk5OnRzQEWKDyXNGX0R6sJsultQeBjufuUDz-0&amp;t=634395149500000000" alt="+" style="border-width: 0;" /></a><a href="known-quot-breaking-changes-quot.aspx.html">Known &quot;Breaking Changes&quot;</a></li><li><a href="nhibernate-documentation-structure-proposal.aspx.html">NHibernate Documentation Structure Proposal</a></li></ul></div>
				        </div>
				        
			        </div>
	            
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Pages</h4>
	                    <div class="CommonContentBoxContent">
	            <div><ul class="CommonHierarchicalList"><li><a href="nhibernate-2-0-reference-documentation.aspx.html">NHibernate 2.0 Reference Documentation</a></li><li><a href="architecture.aspx.html#" onclick="ctl00_ctl00_rcr_rcr_ctl00_ctl03_ctl00_ctl01_ctl01._collapse(5, this); return false;"><img src="../../WebResource.axd%3Fd=I7Z2L5Ca7ffItUeObf-LA3ykZ3Mbmr-vwfNJv2PfNk2O4alHWIJbJADyKhl0k71mJCpGTePjifKqZQx_Rs64LrGhlEU25qRjlCh8LoYwo2tck8EIbBdQKg5CISopk9hz_6ZbK_GNtBJljwOq57_FBvxYCTM1&amp;t=634395149500000000" alt="-" style="border-width: 0;" /></a><a href="architecture.aspx.html" class="Selected">Architecture</a><div><ul class="CommonHierarchicalList"><li><a href="instance-states.aspx.html">Instance states</a></li><li><a href="context-sessions.aspx.html">Context Sessions</a></li></ul></div></li><li><a href="architecture.aspx.html#" onclick="ctl00_ctl00_rcr_rcr_ctl00_ctl03_ctl00_ctl01_ctl01._expand(11, this); return false;"><img src="../../WebResource.axd%3Fd=sNXLzaCqbYO_a-ZjCZB88HF4WT8YRbuRaD2xfyafsCiRqelSVt4GYH9QzNn_EvXM02V5zpjGwsymzmW30OIrbB4EUeqA1XW4oU6sME2qMEcOgSVpfz1_YK7UdKB8bVtbFiuWJt3UljrDk5OnRzQEWKDyXNGX0R6sJsultQeBjufuUDz-0&amp;t=634395149500000000" alt="+" style="border-width: 0;" /></a><a href="isessionfactory-configuration.aspx.html">ISessionFactory Configuration</a></li><li><a href="query-syntax.aspx.html">Query Syntax</a></li><li><a href="architecture.aspx.html#" onclick="ctl00_ctl00_rcr_rcr_ctl00_ctl03_ctl00_ctl01_ctl01._expand(58, this); return false;"><img src="../../WebResource.axd%3Fd=sNXLzaCqbYO_a-ZjCZB88HF4WT8YRbuRaD2xfyafsCiRqelSVt4GYH9QzNn_EvXM02V5zpjGwsymzmW30OIrbB4EUeqA1XW4oU6sME2qMEcOgSVpfz1_YK7UdKB8bVtbFiuWJt3UljrDk5OnRzQEWKDyXNGX0R6sJsultQeBjufuUDz-0&amp;t=634395149500000000" alt="+" style="border-width: 0;" /></a><a href="known-quot-breaking-changes-quot.aspx.html">Known &quot;Breaking Changes&quot;</a></li><li><a href="nhibernate-documentation-structure-proposal.aspx.html">NHibernate Documentation Structure Proposal</a></li></ul></div>
				        </div>
				        
			        </div>
	            
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Tags</h4>
	                    <div class="CommonContentBoxContent">
	            <ul class="CommonSidebarTagCloud">
<li class="CommonTag6"><a href="tags/equality/default.aspx.html" rel="tag">equality</a></li>
<li class="CommonTag6"><a href="tags/identity/default.aspx.html" rel="tag">identity</a></li>
<li class="CommonTag1"><a href="tags/pattern/default.aspx.html" rel="tag">pattern</a></li>
<li class="CommonTag6"><a href="tags/unit+of+work/default.aspx.html" rel="tag">unit of work</a></li>
</ul>

				        </div>
				        <div class="CommonContentBoxFooter"><a href="tags/default.aspx.html">View more</a></div>
			        </div>
	            
	    
	        
	                <div class="CommonContentBox">
                        <h4 class="CommonContentBoxHeader">Page Details</h4>
	                    <div class="CommonContentBoxContent">
	            <div class="CustomWikiPageDetailsArea"><div class="CustomWikiPageDetailsTitle">First published by:</div><div class="CustomWikiPageDetailsAvatar"><img src="../../resized-image.ashx/__size/50x50/__key/CommunityServer.Components.Avatars/00.00.00.21.02/4TA8XMWXSUMY.png" alt="" style="border-width:0px;" /></div><div class="CustomWikiPageDetailsContent"><a href="../../members/fabiomaulo/default.aspx.html">Fabio Maulo</a><br/> on 08-31-2008</div></div><div class="CustomWikiPageDetailsArea"><div class="CustomWikiPageDetailsTitle">Last revision by:</div><div class="CustomWikiPageDetailsAvatar"><img src="../../resized-image.ashx/__size/50x50/__key/CommunityServer.Components.Avatars/00.00.01.55.38/4THZ38U7C316.png" alt="" style="border-width:0px;" /></div><div class="CustomWikiPageDetailsContent"><a href="../../members/Groxx/default.aspx.html">Groxx</a><br/> on 02-23-2011</div></div><div class="WikiPageDetailsSummaryArea"><strong>5</strong> people found this article useful.</div>
				        </div>
				        
			        </div>
	            
	    
	    
	    
    </div>
    

			    </div>
                <div id="CommonSidebarLeft">
				    
				</div>
			    <div id="CommonContent"><div id="CommonContentInner">
    



<div class="CommonContentBox">
    <div class="CommonContentBoxContent">
        <div style="float: right">
            
        </div>
        
        <div class="CommonPaneTabSet">
            <div style="overflow: hidden;">
                <table border="0" cellpadding="0" cellspacing="0">
                <tbody>
                    <tr>
                        <td>
                            <div class="CommonPaneTabSelected">
                                <img align="absmiddle" border="0" src="../../Themes/hawaii/images/wiki/wiki-icon-article-tab.png" alt="" style="border-width:0px;" /> Article
                            </div>
                        </td>
                        
                                
                                                            
                        <td>
                            <div class="CommonPaneTab">
                                <a href="architecture/comments.aspx.html"><img align="absmiddle" border="0" src="../../Themes/hawaii/images/wiki/wiki-icon-comment-tab.png" alt="" style="border-width:0px;" /></a>
                                <a href="architecture/comments.aspx.html">Comments</a> (3)
                            </div>
                        </td>
                        <td>
                            <div class="CommonPaneTab">
                                <a href="architecture/history.aspx.html"><img align="absmiddle" border="0" src="../../Themes/hawaii/images/wiki/wiki-icon-history-tab.png" alt="" style="border-width:0px;" /></a>
                                <a href="architecture/history.aspx.html">History</a> (10)
                            </div>
                        </td>
                    </tr>
                </tbody>
                </table>
            </div>
        </div>

        <div class="CommonPane">
            <div class="CommonGroupedContentArea">                

                <div id="ctl00_ctl00_bcr_bcr_ctl08" class="WikiRating" title="Rated: 5 Ratings - 5 Yes, 0 No" ><div><img src="../../utility/images/thumbsup.png" id="ctl00_ctl00_bcr_bcr_ctl08_image" alt="" /><span id="ctl00_ctl00_bcr_bcr_ctl08_percent" class="WikiRatingGood">100%</span> <span id="ctl00_ctl00_bcr_bcr_ctl08_percenttext">of people found this useful</span></div></div>

                <h2 class="CommonContentBoxHeaderSmall">
                        <span><a href="architecture.aspx.html">Architecture</a></span>
                        
                    </h2>
                                
                <div class="CommonDescription" style="font-size: 90%;">
                    <span id="ctl00_ctl00_bcr_bcr_ctl09_ctl01">Filed under: <a href="tags/Architecture/default.aspx.html" rel="tag">Architecture</a>, <a href="tags/Session/default.aspx.html" rel="tag">Session</a>, <a href="tags/SessionFactory/default.aspx.html" rel="tag">SessionFactory</a></span><input type="hidden" name="ctl00$ctl00$bcr$bcr$ctl09$ctl01" id="ctl00_ctl00_bcr_bcr_ctl09_ctl01_State" value="nochange" /> <a onclick="ctl00_ctl00_bcr_bcr_ctl09_ctl01.Edit(new Function('tags','successFunction','failureFunction','WebForm_DoCallback(\'ctl00$ctl00$bcr$bcr$ctl09\',\'saveAndFormat:\' + tags,successFunction,tags,failureFunction,false)'));return false;" href="architecture.aspx.html#">[Edit Tags]</a>
                </div>
                <div><h4>
</h4>
<h4><strong><span style="color:#ff8000;">Wiki extracted from the <a href="../../doc/nh/en/index.html#architecture">2.0 Reference Documentation</a></span><span></span></strong></h4>
<h4>Overview</h4>
<p>A (very) high-level view of the NHibernate architecture: 
</p>
<p><img src="../../cfs-file.ashx/__key/CommunityServer.Components.SiteFiles/wikis.NHReference/overview.png" style="vertical-align:middle;margin-left:200px;margin-right:200px;" alt="" /></p>
<p>This diagram shows NHibernate using the database and configuration data to provide persistence services (and persistent objects) to the application. 
</p>
<p>We would like to show a more detailed view of the runtime architecture. Unortunately, NHibernate is flexible and supports several approaches. We will show the two extremes. The &quot;lite&quot; architecture has the application provide its own ADO.NET connections and manage its own transactions. This approach uses a minimal subset of NHibernate&#39;s APIs: 
</p>
<p><span style="text-decoration:underline;"><img src="../../cfs-file.ashx/__key/CommunityServer.Components.SiteFiles/wikis.NHReference/lite.png" style="margin-left:150px;margin-right:150px;" alt="" /><br /></span></p>
<p>The &quot;full cream&quot; architecture abstracts the application away from the underlying ADO.NET APIs and lets NHibernate take care of the details. 
</p>
<p><span style="text-decoration:underline;"><img src="../../cfs-file.ashx/__key/CommunityServer.Components.SiteFiles/wikis.NHReference/fullcream.png" style="margin-left:100px;margin-right:100px;" alt="" /><br /></span></p>
<p>Here some definitions of the objects in the diagrams: 
</p>
<p><strong>ISessionFactory</strong> (NHibernate.ISessionFactory)</p>
<p>A threadsafe (immutable) cache of compiled mappings for a single database. A factory for <i>ISession</i> and a client of <i>IConnectionProvider</i>. Might hold an optional (second-level) cache of data that is reusable between transactions, at a process- or cluster-level. 
</p>
<p>&nbsp;</p>
<p><strong>ISession</strong> (NHibernate.ISession)</p>
<p>A single-threaded, short-lived object representing a conversation between the application and the persistent store. Wraps an ADO.NET connection. Factory for <i>ITransaction</i>. Holds a mandatory (first-level) cache of persistent objects, used when navigating the object graph or looking up objects by identifier. 
</p>
<p><strong>Persistent Objects and Collection</strong> </p>
<p>Short-lived, single threaded objects containing persistent state and business function. These might be ordinary POCOs (Plain Old CLR Objects), the only special thing about them is that they are currently associated with (exactly one) <i>ISession</i>. As soon as the <i>Session</i> is closed, they will be detached and free to use in any application layer (e.g. directly as data transfer objects to and from presentation). 
</p>
<p>&nbsp;</p>
<p>
<strong>Transient Objects and Collections </strong></p>
<p>Instances of persistent classes that are not currently associated with a <i>ISession</i>. They may have been instantiated by the application and not (yet) persisted or they may have been instantiated by a closed <i>ISession</i>. 
</p>
<p>&nbsp;</p>
<p>
<strong>ITransaction</strong> (NHibernate.ITransaction)</p>
<p>(Optional) A single-threaded, short-lived object used by the application to specify atomic units of work. Abstracts application from underlying ADO.NET transaction. An <i>ISession</i> might span several <i>ITransaction</i>s in some cases. 
</p>
<p>&nbsp;</p>
<p>
<strong>IConnectionProvider </strong>(NHibernate.Connection.IConnectionProvider)</p>
<p>(Optional) A factory for ADO.NET connections and commands. Abstracts application from the concrete vendor-specific implementations of <i>IDbConnection</i> and <i>IDbCommand</i>. Not exposed to application, but can be extended/implemented by the developer. 
</p>
<p>&nbsp;</p>
<p>
<strong>IDriver </strong>(NHibernate.Driver.IDriver)</p>
<p>(Optional) An interface encapsulating differences between ADO.NET providers, such as parameter naming conventions and supported ADO.NET features. 
</p>
<p>&nbsp;</p>
<p><strong>ITransactionFactory </strong>(NHibernate.Transaction.ITransactionFactory)</p>
<p>(Optional) A factory for <i>ITransaction</i> instances. Not exposed to the application, but can be extended/implemented by the developer. </p>
<p>&nbsp;</p>
<p>Given a &quot;lite&quot; architecture, the application bypasses the <i>ITransaction</i>, <i>ITransactionFactory</i> and/or <i>IConnectionProvider</i> APIs to talk to ADO.NET directly. 
</p></div>
            </div>
        
        </div>
    </div>
</div>


<div class="CommonContentBox">
    <div style="float: right;">
        
                <a href="../../login.aspx%3FReturnUrl=%252Fwikis%252Freference2-0en%252Farchitecture.aspx.html"><img src="../../Themes/hawaii/images/wiki/add-a-new-comment.gif" alt="" style="border-width:0px;" /></a>
            
    </div>
    <h3 class="CommonContentBoxHeader">Recent Comments</h3>
    <div class="CommonContentBoxContent">
        
                <div class="WikiCommentArea">
                    <div class="WikiCommentBubble">
                        <div class="WikiCommentBubbleRoundTop"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                        <div class="WikiCommentContent">
                            <div class="WikiCommentHeaderIcon"><a href="../../members/ginault/default.aspx.html">
                                    <img src="../../utility/anonymous.gif" alt="" style="border-width:0px;max-height:32px;max-width:32px;" />
                                </a></div>
                            
                            <div class="WikiCommentHeader">
                                By: 
                                <a href="../../members/ginault/default.aspx.html">ginault</a>
                                Posted on 
                                02-19-2011 7:15
                                <div id="ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating" class="WikiRatingSmall" title="Rated: 1 Ratings - 0 Yes, 1 No" ><div><img id="ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating_image" alt="" style="display:none;" /><span id="ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating_percent" class="WikiRatingBadSmall">0%</span> <span id="ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating_percenttext">of people found this useful</span></div></div>
                            </div>
                            <div style="clear: both;"></div>
                            
                            <div><p>There are 2 types of design patterns quite similar to this,&lt;a href=&quot;<a &nbsp;target="_new" href="http://www.ginault.com&quot;&gt;Rolex">http://www.ginault.com&quot;&gt;Rolex</a> Watches&lt;/a&gt; &nbsp;and &lt;a href=&quot;<a &nbsp;target="_new" href="http://www.ginault.com&quot;&gt;Rolex">http://www.ginault.com&quot;&gt;Rolex</a> Prices&lt;/a&gt; .</p>
</div>

                            <div style="float: right; font-size: 80%;">
                                
                                
                            </div><div style="clear: both;"></div>
                        </div>
                        <div class="WikiCommentBubbleRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                    </div>
                    <div class="WikiCommentArrow"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div><div class="r6"></div><div class="r7"></div><div class="r8"></div><div class="r9"></div><div class="r10"></div></div>
                </div>     
            
                <div class="WikiCommentArea">
                    <div class="WikiCommentBubble">
                        <div class="WikiCommentBubbleRoundTop"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                        <div class="WikiCommentContent">
                            <div class="WikiCommentHeaderIcon"><a href="../../members/fabiomaulo/default.aspx.html">
                                    <img src="../../resized-image.ashx/__size/32x32/__key/CommunityServer.Components.Avatars/00.00.00.21.02/4TA8XMWXSUMY.png" alt="" style="border-width:0px;" />
                                </a></div>
                            
                            <div class="WikiCommentHeader">
                                By: 
                                <a href="../../members/fabiomaulo/default.aspx.html">Fabio Maulo</a>
                                Posted on 
                                09-05-2008 20:34
                                
                            </div>
                            <div style="clear: both;"></div>
                            
                            <div><p>&lt;p&gt;Sure it is. This is the community space each one can help us.&lt;/p&gt;</p>
</div>

                            <div style="float: right; font-size: 80%;">
                                
                                
                            </div><div style="clear: both;"></div>
                        </div>
                        <div class="WikiCommentBubbleRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                    </div>
                    <div class="WikiCommentArrow"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div><div class="r6"></div><div class="r7"></div><div class="r8"></div><div class="r9"></div><div class="r10"></div></div>
                </div>     
            
                <div class="WikiCommentArea">
                    <div class="WikiCommentBubble">
                        <div class="WikiCommentBubbleRoundTop"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                        <div class="WikiCommentContent">
                            <div class="WikiCommentHeaderIcon"><a href="../../members/wolli/default.aspx.html">
                                    <img src="../../utility/anonymous.gif" alt="" style="border-width:0px;max-height:32px;max-width:32px;" />
                                </a></div>
                            
                            <div class="WikiCommentHeader">
                                By: 
                                <a href="../../members/wolli/default.aspx.html">Wolfgang Trog</a>
                                Posted on 
                                09-05-2008 6:47
                                <div id="ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating" class="WikiRatingSmall" title="Rated: 1 Ratings - 0 Yes, 1 No" ><div><img id="ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating_image" alt="" style="display:none;" /><span id="ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating_percent" class="WikiRatingBadSmall">0%</span> <span id="ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating_percenttext">of people found this useful</span></div></div>
                            </div>
                            <div style="clear: both;"></div>
                            
                            <div><p>&lt;p&gt;Is the tag &quot;arquitecture&quot; intended ? Should probably be &quot;Architecture&quot;. I wasn&#39;t sure if it&#39;s ok to change it by myself.&lt;/p&gt;</p>
</div>

                            <div style="float: right; font-size: 80%;">
                                
                                
                            </div><div style="clear: both;"></div>
                        </div>
                        <div class="WikiCommentBubbleRoundBottom"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div></div>
                    </div>
                    <div class="WikiCommentArrow"><div class="r1"></div><div class="r2"></div><div class="r3"></div><div class="r4"></div><div class="r5"></div><div class="r6"></div><div class="r7"></div><div class="r8"></div><div class="r9"></div><div class="r10"></div></div>
                </div>     
            
                <a href="architecture/comments.aspx.html">View All</a>
            
    </div>
</div>


</div></div>
			    <div style="clear: both;"></div>
			    
			    
            </div>
                
            <div id="CommonFooter">
                <div class="Common">
                    
                        
                	    
                        

                        
                                <a href="http://communityserver.com/" target="_blank"><img src="../../utility/PoweredByCS_commercial.gif" alt="Powered by Community Server (Commercial Edition), by Telligent Systems " style="border-width:0px;" /></a>
		                    
                		
                    
                 </div>
            </div>
		
<script type="text/javascript">
// <![CDATA[
Telligent_Modal.Configure('/utility/loading.htm',['CommonModal'],['CommonModalTitle'],['CommonModalClose'],['CommonModalContent'],['CommonModalFooter'],['CommonModalResize'],['CommonModalMask'],100,false,true);
// ]]>
</script><script type="text/javascript">
<!--
function KeyDownHandlerctl00_ctl00_sr_sr_ctl00_ctl00_TitleBarSearchButton(event)
{
	if (event.keyCode == 13)
	{
		event.returnValue = false;
		event.cancel = true;
     __doPostBack('ctl00$ctl00$sr$sr$ctl00$ctl00$TitleBarSearchButton','')
   return false;
	}
}

//-->
</script>
<script type="text/javascript">
// <![CDATA[
window.ctl00_ctl00_rcr_rcr_ctl00_ctl02_ctl00_ctl01_ctl01=new WikiPageHierarchy('ctl00_ctl00_rcr_rcr_ctl00_ctl02_ctl00_ctl01_ctl01',new Function('mode','pageId','callback','WebForm_DoCallback(\'ctl00$ctl00$rcr$rcr$ctl00$ctl02$ctl00$ctl01$ctl01\',mode + \':\' + pageId,callback,\"\",null,false)'),'<img src="http://nhforge.org/wikis/reference2-0en/\&quot;/WebResource.axd?d=sNXLzaCqbYO_a-ZjCZB88HF4WT8YRbuRaD2xfyafsCiRqelSVt4GYH9QzNn_EvXM02V5zpjGwsymzmW30OIrbB4EUeqA1XW4oU6sME2qMEcOgSVpfz1_YK7UdKB8bVtbFiuWJt3UljrDk5OnRzQEWKDyXNGX0R6sJsultQeBjufuUDz-0&amp;t=634395149500000000\&quot;" alt=\"+\" style=\"border-width: 0;\" />','<img src="http://nhforge.org/wikis/reference2-0en/\&quot;/WebResource.axd?d=I7Z2L5Ca7ffItUeObf-LA3ykZ3Mbmr-vwfNJv2PfNk2O4alHWIJbJADyKhl0k71mJCpGTePjifKqZQx_Rs64LrGhlEU25qRjlCh8LoYwo2tck8EIbBdQKg5CISopk9hz_6ZbK_GNtBJljwOq57_FBvxYCTM1&amp;t=634395149500000000\&quot;" alt=\"-\" style=\"border-width: 0;\" />','<div>Loading...</div>');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_ctl00_rcr_rcr_ctl00_ctl03_ctl00_ctl01_ctl01=new WikiPageHierarchy('ctl00_ctl00_rcr_rcr_ctl00_ctl03_ctl00_ctl01_ctl01',new Function('mode','pageId','callback','WebForm_DoCallback(\'ctl00$ctl00$rcr$rcr$ctl00$ctl03$ctl00$ctl01$ctl01\',mode + \':\' + pageId,callback,\"\",null,false)'),'<img src="http://nhforge.org/wikis/reference2-0en/\&quot;/WebResource.axd?d=sNXLzaCqbYO_a-ZjCZB88HF4WT8YRbuRaD2xfyafsCiRqelSVt4GYH9QzNn_EvXM02V5zpjGwsymzmW30OIrbB4EUeqA1XW4oU6sME2qMEcOgSVpfz1_YK7UdKB8bVtbFiuWJt3UljrDk5OnRzQEWKDyXNGX0R6sJsultQeBjufuUDz-0&amp;t=634395149500000000\&quot;" alt=\"+\" style=\"border-width: 0;\" />','<img src="http://nhforge.org/wikis/reference2-0en/\&quot;/WebResource.axd?d=I7Z2L5Ca7ffItUeObf-LA3ykZ3Mbmr-vwfNJv2PfNk2O4alHWIJbJADyKhl0k71mJCpGTePjifKqZQx_Rs64LrGhlEU25qRjlCh8LoYwo2tck8EIbBdQKg5CISopk9hz_6ZbK_GNtBJljwOq57_FBvxYCTM1&amp;t=634395149500000000\&quot;" alt=\"-\" style=\"border-width: 0;\" />','<div>Loading...</div>');
// ]]>
</script><script type="text/javascript">
// <![CDATA[
var ctl00_ctl00_bcr_bcr_ctl08 = new RateableContentYesNoRating('ctl00_ctl00_bcr_bcr_ctl08','ctl00_ctl00_bcr_bcr_ctl08','ctl00_ctl00_bcr_bcr_ctl08_image','ctl00_ctl00_bcr_bcr_ctl08_percent','ctl00_ctl00_bcr_bcr_ctl08_percenttext','ctl00_ctl00_bcr_bcr_ctl08_buttons','ctl00_ctl00_bcr_bcr_ctl08_thanks','WikiRating','WikiRatingActive',new Function('r','s','f','WebForm_DoCallback(\'ctl00$ctl00$bcr$bcr$ctl08\',r,s,r,f,false)'));
// ]]>
</script><script type="text/javascript">
// <![CDATA[
window.ctl00_ctl00_bcr_bcr_ctl09_ctl01 = new Telligent_InlineEditorPanel('ctl00_ctl00_bcr_bcr_ctl09_ctl01','ctl00_ctl00_bcr_bcr_ctl09_ctl01','ctl00_ctl00_bcr_bcr_ctl09_ctl01_State','ctl00_ctl00_bcr_bcr_ctl09_ctl00',false,null,null,null);
// ]]>
</script><script type="text/javascript">
// <![CDATA[
var ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating = new RateableContentYesNoRating('ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating','ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating','ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating_image','ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating_percent','ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating_percenttext','ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating_buttons','ctl00_ctl00_bcr_bcr_ctl13_ctl01_WikiPageCommentRating_thanks','WikiRatingSmall','WikiRatingActiveSmall',new Function('r','s','f','WebForm_DoCallback(\'ctl00$ctl00$bcr$bcr$ctl13$ctl01$WikiPageCommentRating\',r,s,r,f,false)'));
// ]]>
</script><script type="text/javascript">
// <![CDATA[
var ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating = new RateableContentYesNoRating('ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating','ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating','ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating_image','ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating_percent','ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating_percenttext','ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating_buttons','ctl00_ctl00_bcr_bcr_ctl13_ctl03_WikiPageCommentRating_thanks','WikiRatingSmall','WikiRatingActiveSmall',new Function('r','s','f','WebForm_DoCallback(\'ctl00$ctl00$bcr$bcr$ctl13$ctl03$WikiPageCommentRating\',r,s,r,f,false)'));
// ]]>
</script><script type="text/javascript">
var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
var pageTracker = _gat._getTracker("UA-5443308-1");
pageTracker._trackPageview();
</script></form>
		
	</body>
</html>
